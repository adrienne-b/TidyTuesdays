xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = 0.9, height = 0.9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
# theme(panel.grid = element_blank()) +
coord_cartesian(clip = "off") +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
# coord_cartesian(clip = "off") +
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = 0.9, height = 0.9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
# coord_cartesian(clip = "off") +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = 1, height = 1) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles", size) +
ylab("") +
xlab("") +
theme_classic(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles", size) +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 14)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_bw() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_classic() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,1.5,1))
plot.title = element_text(size = 12)) +
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,1.5,1)) +
plot.title = element_text(size = 12)) +
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,1.5,1)),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,1.5,1), units = "pt"),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,2,1), units = "pt"),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,5,1), units = "pt"),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,5,1), units = "cm"),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
pt
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.margin = unit(c(1,1,5,1), units = "pt"),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 51, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
install.packages("swirl")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
murders <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-10/international_murders.csv")
gun_murders <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-10/gun_murders.csv")
diseases <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-10/diseases.csv")
nyc_regents <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-12-10/nyc_regents.csv")
measles <- diseases %>%
filter(disease == "Measles") %>%
mutate(rate = (count/population * 100) * (52/weeks_reporting * 100)) %>%
filter(!state == "Hawaii",
!state == "Alaska") %>%
mutate(state = reorder(state, desc(state)))
my.colors <- colorRampPalette(c("#f0ffff","#d0e9fb","#6ea6f0","#fbe204","#ffad00", "#fc2500", "#7f0d00"), bias = 2.25)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
my.colors <- colorRampPalette(c("#f0ffff","#d0e9fb","#6ea6f0","#fbe204","#ffad00", "#fc2500", "#7f0d00"), bias = 2.4)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0,1))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(expand = c(0,1))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(expand = c(1,0 ))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(expand = c(.5,0 ))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(expand = c(.01,0 ))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(expand = c(.05,0 ))+
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(limits = c(1,51))
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(limits = c(1,51)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(limits = c(0,51)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_y_discrete(limits = c(0,52)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(panel.grid = element_blank()) +
legend.position = "bottom", text = element_text(size = 8),
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(panel.grid = element_blank()),
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(panel.grid = element_blank(),
legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
ggsave(measles.png, width = 8, height = 6, units = "in")
measles %>%
ggplot(aes(year, state, fill = rate)) +
geom_tile(width = .9, height = .9) +
scale_x_continuous(expand = c(0, 0)) +
scale_fill_gradientn(colors = my.colors(18), na.value = "white") +
geom_vline(xintercept = 1963) +
ggtitle("Measles") +
ylab("") +
xlab("") +
theme_minimal() +
theme(panel.grid = element_blank(),
legend.position = "bottom", text = element_text(size = 8),
plot.title = element_text(size = 12)) +
annotate(geom = "text", x = 1963, y = 50.5, label = "Vaccine introduced", size = 3, hjust = 0)
ggsave(measles.png, width = 8, height = 6, units = "in")
ggsave("measles.jpg"", width = 8, height = 6, units = "in")
ggsave("measles.jpg", width = 8, height = 6, units = "in")
